<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>A-Frame GLTF Exporter Component - Basic</title>
    <meta name="description" content="Basic example for GLTF Exporter component."></meta>
    <!--<script src="https://aframe.io/releases/0.6.1/aframe.min.js"></script>-->
    <script src="aframe-master.min.js"></script>
    <script src="../../dist/aframe-gltf-exporter-component.min.js"></script>
    <style>
    .button:hover {
      background-color: #fff;
      color: #e43b5e;
    }
    .button {
      background-color: #e43b5e;
      border-radius: 8px;
      border: none;
      color: #fff;
      cursor: pointer;
      display: inline-block;
      font-size: 12px;
      height: 34px;
      margin-top: 5px;
      margin-left: 5px;
      outline: none;
      position: relative;
      width: 190px;
      z-index: 999;
    }

    #container {
      position: absolute;
      width: 100%;
      display: flex;
      justify-content: center;
    }
  </style>
  </head>
  <body>
    <div id="container">
      <button id="export-scene" class="button"><span>Export Scene</span></button>
      <button id="export-scene-bin" class="button"><span>Export Scene Binary</span></button>
      <button id="export-sphere" class="button"><span>Export Sphere</span></button>
      <button id="export-two" class="button"><span>Export Sphere and Box (Array)</span></button>
      <button id="export-selector" class="button"><span>Export boxes (Selector)</span></button>
    </div>
    <a-scene gltf-exporter>
      <a-assets>
        <img id="groundTexture" src="https://cdn.aframe.io/a-painter/images/floor.jpg" crossorigin>
        <img id="skyTexture" src="https://cdn.aframe.io/a-painter/images/sky.jpg" crossorigin>
        <a-asset-item src="https://cdn.glitch.global/2a3af8bb-e7b2-4e50-8ce2-68e3e8cf4538/stunt-vehicle.glb?v=1669731846291" ></a-asset-item>
       <a-asset-item src="#" ></a-asset-item>
        <a-asset-item src="#" ></a-asset-item>
       <a-asset-item src="#" ></a-asset-item>
       
        
        
       
        <img id="crateImg" src="https://aframe.io/sample-assets/assets/images/wood/crate.gif" crossOrigin="true">
        <img id="floorImg" src="https://aframe.io/sample-assets/assets/images/terrain/grasslight-big.jpg" crossOrigin="true">

      </a-assets>

      <!-- Meshes. 
      <a-entity id="blueBox" mixin="blueBoxMix" position="0 8 0"></a-entity>
      <a-entity id="shortOrangeBox" mixin="short orange box" position="-5 2 0"></a-entity>
      <a-entity id="shortYellowBox" mixin="short yellow box" position="5 2 0"></a-entity>
      <a-entity id="yellowSphere" geometry="primitive: sphere" material="color:#ff0; metalness:0.0; roughness:1.0" position="-2 2 -2"></a-entity>
      <a-box src="https://aframe.io/sample-assets/assets/images/bricks/brick_bump.jpg" position="-5 5 -2" width="1" color="#F16745"></a-box>

      <a-entity geometry="primitive: box" material="src: #crateImg" position="3 4 0"></a-entity>
      <a-entity geometry="primitive: box" material="color: #0f0" position="4 2 4"></a-entity>
      <a-entity geometry="primitive: box" material="color:#f00" position="-4 1 0">
        <a-animation attribute="rotation" to="0 360 0" repeat="indefinite" easing="linear" dur="9600"></a-animation>
      </a-entity>


      <a-plane src="#groundTexture" rotation="-90 0 0" height="100" width="100"></a-plane>
      <a-light type="ambient" color="#445451"></a-light>
      <a-light type="point" intensity="2" position="2 4 4"></a-light>
      <a-sky height="2048" radius="30" src="#skyTexture" theta-length="90" width="2048"></a-sky>

      <!-- Camera. -->
      <a-entity id="cameraWrapper" position="0 1 8">
        <a-entity id="camera" camera look-controls wasd-controls></a-entity>
      </a-entity>
    </a-scene>    
  </body>
<script type="text/javascript" src="aframe-physics-system.min.js" ></script>
<script type="text/javascript" src="aframe-mouse-cursor-component.min.js" ></script>

  <script>
    function exportGLTF (input, options) {
      AFRAME.scenes[0].systems['gltf-exporter'].export(input, options);
    }

    document.getElementById('export-scene').addEventListener('click', function () {
      exportGLTF();
    });

    document.getElementById('export-scene-bin').addEventListener('click', function () {
      exportGLTF(undefined, {binary: true});
    });

    document.getElementById('export-sphere').addEventListener('click', function () {
      exportGLTF(document.getElementById('yellowSphere'), {binary: true});
    });

    document.getElementById('export-two').addEventListener('click', function () {
      exportGLTF([document.getElementById('blueBox'), document.getElementById('yellowSphere')]);
    });

    document.getElementById('export-selector').addEventListener('click', function () {
      exportGLTF(document.querySelectorAll("[geometry='primitive: box']"));
    });

  </script>
</html>
